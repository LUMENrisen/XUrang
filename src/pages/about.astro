---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const rooms = await getCollection('rooms');
rooms.sort((a, b) => a.data.order - b.data.order);

// äººç‰©ä¸æˆ¿é—´çš„å¯¹åº”å…³ç³»ï¼ˆæŒ‰ä½ è®¾è®¡çš„é¡ºåºï¼‰
const identities = [
  { person: 'è·¯è¿‡', roomTitle: 'é£æ¥' },
  { person: 'è·¯ä¸Š', roomTitle: 'èŠ±å¼€' },
  { person: 'è·¯æ˜', roomTitle: 'åˆç”Ÿ' },
  { person: 'è·¯ç‚æ™¨', roomTitle: 'æˆè¹Š' },
  { person: 'è·¯å®…', roomTitle: 'è‹¥æ°´' },
  { person: 'è·¯ç—´', roomTitle: 'ä¸å°½' },
  { person: 'è·¯æ ‡', roomTitle: 'é“' },
];

// æ ¹æ®æˆ¿é—´æ ‡é¢˜æ‰¾åˆ°æˆ¿é—´å¯¹è±¡ï¼ˆæ³¨æ„æˆ¿é—´æ–‡ä»¶çš„ title å­—æ®µï¼‰
const roomMap = Object.fromEntries(rooms.map(r => [r.data.title, r]));
---

<Layout title="è·¯ Â· Lumen's Atelier">
  <main style="max-width: 900px; margin: 0 auto; padding: 2rem 1rem;">
    <!-- ä¸­å¤®å¤§å›¾æ ‡ -->
    <div style="font-size: 6rem; text-align: center; margin-bottom: 2rem;">ğŸ¦Œ</div>

    <!-- å·¦å³ä¸¤åˆ—å¸ƒå±€ -->
    <div style="display: flex; justify-content: center; gap: 4rem; flex-wrap: wrap;">
      <!-- å·¦ä¾§äººç‰©åˆ—ï¼ˆå³å¯¹é½ï¼‰ -->
      <div style="min-width: 150px; text-align: right;">
        {identities.map((item) => (
          <div style="margin-bottom: 1rem;">
            <a href={`/people/${item.person}`} style="text-decoration: none; color: inherit; font-size: 1.2rem;">
              {item.person}
            </a>
          </div>
        ))}
      </div>

      <!-- å³ä¾§æˆ¿é—´åˆ—ï¼ˆå·¦å¯¹é½ï¼‰ -->
      <div style="min-width: 150px;">
        {identities.map((item) => {
          const room = roomMap[item.roomTitle];
          return room ? (
            <div style="margin-bottom: 1rem;">
              <a href={`/rooms/${room.id}`} style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 0.5rem;">
                <span style="font-size: 1.6rem;">{room.data.icon}</span>
                <span style="font-size: 1.2rem;">{room.data.title}</span>
              </a>
            </div>
          ) : (
            <div style="margin-bottom: 1rem; color: gray;">æœªæ‰¾åˆ°</div>
          );
        })}
      </div>
    </div>

    <!-- åº•éƒ¨è¯´æ˜ï¼ˆå¯é€‰ï¼‰ -->
    <p style="text-align: center; margin-top: 3rem; color: gray;">
      ç‚¹å‡»äººåè¿›å…¥äººç‰©å¿—ï¼Œç‚¹å‡»æˆ¿é—´è¿›å…¥å¡”çš„æˆ¿é—´
    </p>
  </main>
</Layout>