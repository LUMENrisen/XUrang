---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const rooms = await getCollection('rooms');
rooms.sort((a, b) => a.data.order - b.data.order);

const identities = [
  { person: 'è·¯è¿‡', roomTitle: 'é£æ¥' },
  { person: 'è·¯ä¸Š', roomTitle: 'èŠ±å¼€' },
  { person: 'è·¯æ˜', roomTitle: 'åˆç”Ÿ' },
  { person: 'è·¯ç‚æ™¨', roomTitle: 'æˆè¹Š' },
  { person: 'è·¯å®…', roomTitle: 'è‹¥æ°´' },
  { person: 'è·¯ç—´', roomTitle: 'ä¸å°½' },
  { person: 'è·¯æ ‡', roomTitle: 'é“' },
];

const roomMap = Object.fromEntries(rooms.map(r => [r.data.title, r]));
---

<Layout title="è·¯ Â· Lumen's Atelier">
  <main style="max-width: 800px; margin: 0 auto; padding: 2rem 1rem;">
    <!-- ä¸­å¤®å¤§å›¾æ ‡ï¼Œå¢å¤§ä¸‹æ–¹é—´è·ï¼Œç¡®ä¿è§†è§‰ä¸­å¿ƒ -->
    <div style="font-size: 6rem; text-align: center; margin-bottom: 3rem;">ğŸ¦Œ</div>

    <!-- åˆ—è¡¨å®¹å™¨ï¼Œä½¿ç”¨ flex åˆ—ï¼Œå±…ä¸­ -->
    <div style="display: flex; flex-direction: column; align-items: center; gap: 1rem;">
      {identities.map((item) => {
        const room = roomMap[item.roomTitle];
        return (
          <div style="display: flex; justify-content: center; width: 100%; gap: 1rem; align-items: center;">
            <!-- å·¦ä¾§äººåï¼šå›ºå®šå®½åº¦ï¼Œå³å¯¹é½ï¼Œç»Ÿä¸€è¡Œé«˜ -->
            <div style="width: 120px; text-align: right; line-height: 2rem;">
              <a href={`/people/${item.person}`} style="text-decoration: none; color: inherit; font-size: 1.5rem;">
                {item.person}
              </a>
            </div>
            <!-- å³ä¾§æˆ¿é—´ï¼šå›ºå®šå®½åº¦ï¼Œå·¦å¯¹é½ï¼Œå›¾æ ‡å’Œæ–‡å­—åœ¨åŒä¸€æ°´å¹³çº¿ -->
            <div style="width: 190px; text-align: left; line-height: 2rem;">
              {room ? (
                <a href={`/rooms/${room.id}`} style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 0.5rem;">
                  <span style="font-size: 1.8rem;">{room.data.icon}</span>
                  <span style="font-size: 1rem;">{room.data.title}</span>
                </a>
              ) : (
                <span style="color: gray;">æœªæ‰¾åˆ°</span>
              )}
            </div>
          </div>
        );
      })}
    </div>

    <p style="text-align: center; margin-top: 2.5rem; color: gray;">
      ç‚¹å‡»äººåè¿›å…¥äººç‰©å¿—ï¼Œç‚¹å‡»æˆ¿é—´è¿›å…¥å¡”çš„æˆ¿é—´
    </p>
  </main>
</Layout>