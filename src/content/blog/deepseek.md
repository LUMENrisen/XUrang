---
title: è¿è¡Œè„šæœ¬
pubDate: 2026-02-16
description: å…³äºé•¿é£çš„ä¸€åˆ‡
tags: 

- é£æ¥
person: è·¯æ˜

---

## DeepSeek å¯¹è¯å¯¼å‡ºè„šæœ¬ä½¿ç”¨è¯´æ˜

### ğŸ“Œ è„šæœ¬åŠŸèƒ½

æœ¬è„šæœ¬ç”¨äºä» **DeepSeek ç½‘é¡µç‰ˆ** å¯¼å‡ºå½“å‰åˆ†æ”¯çš„å¯¹è¯ï¼Œç”Ÿæˆä¸€ä¸ª ZIP å‹ç¼©åŒ…ï¼ŒåŒ…å«ï¼š

- **ç´¢å¼•æ–‡æ¡£**ï¼šä»¥ `ã€æ ‡é¢˜ã€‘å¯¹è¯æ ‡é¢˜.md` å‘½åï¼ŒåŒ…å«æœ‰åºåˆ—è¡¨ï¼Œæ¯é¡¹æ ¼å¼ä¸º `åºå·. â— ç”¨æˆ·æ¶ˆæ¯é¢„è§ˆ`ï¼ˆâ— è¡¨ç¤ºè¯¥ç”¨æˆ·æ¶ˆæ¯å­˜åœ¨åˆ†æ”¯ï¼‰ï¼Œä»¥åŠç”¨æˆ·é™„ä»¶åˆ—è¡¨ï¼ˆç¼©è¿›å±•ç¤ºï¼‰ã€‚
- **åˆ†ç»„æ–‡æ¡£**ï¼šæ¯ä¸ªç”¨æˆ·æ¶ˆæ¯åŠå…¶å¯¹åº”çš„ AI å›å¤ç»„æˆä¸€ä¸ªç‹¬ç«‹çš„ Markdown æ–‡æ¡£ï¼Œæ–‡ä»¶åä»¥ç”¨æˆ·æ¶ˆæ¯å‰ 50 å­—ç¬¦å‘½åï¼ˆç©ºæ¶ˆæ¯åˆ™å‘½åä¸º `ã€æ— æ–‡å­—ã€‘ä¸‰ä½åºå·.md`ï¼‰ã€‚æ–‡æ¡£å†…å®¹åªåŒ…å« AI çš„æ€è€ƒå’Œå›ç­”ï¼ˆåŠ AI é™„ä»¶ï¼‰ï¼Œä¸åŒ…å«ç”¨æˆ·æ¶ˆæ¯æ­£æ–‡ã€‚

### ğŸš€ ä½¿ç”¨æ–¹æ³•

#### 1. å‡†å¤‡å·¥ä½œ

- ä½¿ç”¨ **Chrome / Edge æµè§ˆå™¨**ï¼Œæ‰“å¼€ DeepSeek ç½‘é¡µï¼Œè¿›å…¥ä½ æƒ³å¯¼å‡ºçš„å¯¹è¯é¡µé¢ã€‚
- ç¡®ä¿è¯¥å¯¹è¯æ˜¯ä½ æƒ³å¯¼å‡ºçš„**åˆ†æ”¯**ï¼ˆå¦‚æœæœ‰å¤šä¸ªåˆ†æ”¯ï¼Œè¯·å…ˆæ‰‹åŠ¨åˆ‡æ¢åˆ°å¯¹åº”åˆ†æ”¯ï¼‰ã€‚
- å¦‚æœå¯¹è¯ä¸­æœ‰å›¾ç‰‡ã€æ–‡ä»¶ç­‰é™„ä»¶ï¼Œè„šæœ¬ä¼šæå–å…¶**æ–‡ä»¶å**ï¼ˆä»…ç”¨äºç´¢å¼•ï¼‰ï¼Œä½†ä¸ä¼šä¸‹è½½å®é™…æ–‡ä»¶ã€‚å¦‚éœ€ä¿å­˜é™„ä»¶ï¼Œè¯·æ‰‹åŠ¨ä¸‹è½½ã€‚

#### 2. è¿è¡Œè„šæœ¬

1. æŒ‰ **F12** æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œç‚¹å‡» **Console**ï¼ˆæ§åˆ¶å°ï¼‰æ ‡ç­¾ã€‚
2. å°†ä¸‹æ–¹å®Œæ•´è„šæœ¬ä»£ç **å¤åˆ¶**ï¼Œç²˜è´´åˆ°æ§åˆ¶å°ä¸­ï¼Œç„¶åæŒ‰ **Enter** æ‰§è¡Œã€‚
3. ç­‰å¾…å‡ ç§’é’Ÿï¼Œè„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†å¹¶ä¸‹è½½ä¸€ä¸ª ZIP æ–‡ä»¶ï¼Œæ–‡ä»¶åä¸º `ã€å¯¹è¯ã€‘å¯¹è¯æ ‡é¢˜.zip`ã€‚

#### 3. æŸ¥çœ‹è¾“å‡º

- è§£å‹ ZIP æ–‡ä»¶ï¼Œå¾—åˆ°è‹¥å¹² `.md` æ–‡ä»¶ã€‚
- **ç´¢å¼•æ–‡ä»¶**ï¼š`ã€æ ‡é¢˜ã€‘å¯¹è¯æ ‡é¢˜.md`ï¼Œæ‰“å¼€å¯æŸ¥çœ‹æ‰€æœ‰åˆ†ç»„çš„é¢„è§ˆã€åˆ†æ”¯æ ‡è®°å’Œé™„ä»¶ä¿¡æ¯ã€‚
- **åˆ†ç»„æ–‡ä»¶**ï¼šæ¯ä¸ªæ–‡ä»¶å¯¹åº”ä¸€æ¬¡ç”¨æˆ·æ¶ˆæ¯åŠå…¶ AI å›å¤ï¼Œæ–‡ä»¶åè§ç´¢å¼•ã€‚

### ğŸ“‚ è¾“å‡ºæ–‡ä»¶ç»“æ„

```
ã€å¯¹è¯ã€‘å¯¹è¯æ ‡é¢˜.zip
â”œâ”€â”€ ã€æ ‡é¢˜ã€‘å¯¹è¯æ ‡é¢˜.md          # ç´¢å¼•æ–‡æ¡£
â”œâ”€â”€ ç”¨æˆ·æ¶ˆæ¯å‰50å­—ç¬¦.md          # ç¬¬1ç»„
â”œâ”€â”€ ç”¨æˆ·æ¶ˆæ¯å‰50å­—ç¬¦_1.md        # ç¬¬2ç»„ï¼ˆå¦‚æœ‰é‡åï¼‰
â”œâ”€â”€ ç”¨æˆ·æ¶ˆæ¯å‰50å­—ç¬¦_2.md
â””â”€â”€ ã€æ— æ–‡å­—ã€‘001.md             # æ— æ–‡å­—å†…å®¹çš„ç”¨æˆ·æ¶ˆæ¯ç»„
```

### âš ï¸ æ³¨æ„äº‹é¡¹

- **åˆ†æ”¯æ ‡è®°**ï¼šè„šæœ¬ä¼šæ ¹æ®ç”¨æˆ·æ¶ˆæ¯æ‰€åœ¨å®¹å™¨æ˜¯å¦åŒ…å«åˆ†æ”¯æ§ä»¶ï¼ˆ`2/2` ç­‰ï¼‰è‡ªåŠ¨æ·»åŠ  `â—` æ ‡è®°ã€‚ä»…å½“è¯¥ç”¨æˆ·æ¶ˆæ¯æœ‰å¤šä¸ªåˆ†æ”¯å˜ä½“æ—¶æ‰ä¼šæ ‡è®°ã€‚
- **é™„ä»¶å¤„ç†**ï¼š
  - **ç”¨æˆ·é™„ä»¶**ï¼ˆå¦‚å›¾ç‰‡ã€æ–‡ä»¶ï¼‰åªä¼šåœ¨ç´¢å¼•æ–‡æ¡£ä¸­åˆ—å‡ºæ–‡ä»¶åï¼Œä¸åŒ…å«å®é™…å†…å®¹ã€‚
  - **AI é™„ä»¶**ï¼ˆå¦‚æœæœ‰ï¼‰ä¼šå‡ºç°åœ¨å¯¹åº”åˆ†ç»„æ–‡æ¡£çš„æœ«å°¾ï¼Œä»¥ `## ğŸ“ AIé™„ä»¶` æ ‡é¢˜å±•ç¤ºã€‚
- **ç©ºæ¶ˆæ¯å¤„ç†**ï¼šå¦‚æœç”¨æˆ·æ¶ˆæ¯åªæœ‰é™„ä»¶è€Œæ²¡æœ‰æ–‡å­—å†…å®¹ï¼Œæ–‡ä»¶åä¼šç»Ÿä¸€ä¸º `ã€æ— æ–‡å­—ã€‘ä¸‰ä½åºå·.md`ï¼Œç´¢å¼•é¢„è§ˆæ˜¾ç¤ºä¸º `(æ— æ–‡å­—)`ã€‚
- **å¤šåˆ†æ”¯å¯¼å‡º**ï¼šæ­¤è„šæœ¬ä»…å¯¼å‡º**å½“å‰å¯è§åˆ†æ”¯**çš„å¯¹è¯ã€‚å¦‚æœåŒä¸€ç”¨æˆ·æ¶ˆæ¯æœ‰å¤šä¸ªåˆ†æ”¯ï¼ˆå¦‚ `2/2`ï¼‰ï¼Œä½ éœ€è¦æ‰‹åŠ¨åˆ‡æ¢åˆ°æ¯ä¸ªåˆ†æ”¯ååˆ†åˆ«è¿è¡Œè„šæœ¬ï¼Œå¾—åˆ°å¤šä¸ª ZIP æ–‡ä»¶ã€‚
- **æ ¼å¼ä¿ç•™**ï¼šAI å›ç­”ä¸­çš„ä»£ç å—ã€åˆ—è¡¨ã€åŠ ç²—ç­‰æ ¼å¼ä¼šè½¬æ¢ä¸º Markdown è¯­æ³•ï¼Œåœ¨ Obsidian ç­‰ç¼–è¾‘å™¨ä¸­å¯æ­£å¸¸æ¸²æŸ“ã€‚

### â“ å¸¸è§é—®é¢˜

**Qï¼šè„šæœ¬è¿è¡Œåæ²¡æœ‰ååº”ï¼Ÿ**  
Aï¼šè¯·æ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰æŠ¥é”™ã€‚å¸¸è§åŸå› ï¼šç½‘ç»œé—®é¢˜å¯¼è‡´ JSZip åŠ è½½å¤±è´¥ï¼Œæˆ–é¡µé¢ä¸­æœªæ‰¾åˆ° `.ds-message` å…ƒç´ ã€‚åˆ·æ–°é¡µé¢åé‡è¯•ã€‚

**Qï¼šç´¢å¼•ä¸­çš„é¢„è§ˆå†…å®¹æœ‰ä¹±ç æˆ– HTML æ ‡ç­¾ï¼Ÿ**  
Aï¼šè„šæœ¬å·²å¯¹ç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚ `<`ã€`>`ã€`&`ï¼‰è¿›è¡Œè½¬ä¹‰ï¼Œå¦‚æœä»æœ‰å¼‚å¸¸ï¼Œå¯èƒ½æ˜¯é¡µé¢ç»“æ„æœ‰å˜ã€‚è¯·æä¾›æ§åˆ¶å°è¾“å‡ºå’Œç¤ºä¾‹ HTMLï¼Œä»¥ä¾¿æ›´æ–°è„šæœ¬ã€‚

**Qï¼šåˆ†æ”¯æ ‡è®°ä¸å‡†ç¡®ï¼Ÿ**  
Aï¼šè„šæœ¬æ ¹æ® `._9663006` å®¹å™¨å†…çš„ `._17e14c5` åˆ¤æ–­åˆ†æ”¯ã€‚å¦‚æœé¡µé¢ç»“æ„å˜åŒ–ï¼Œæ ‡è®°å¯èƒ½å¤±æ•ˆã€‚æ­¤æ—¶å¯æ‰‹åŠ¨æ£€æŸ¥å¹¶åé¦ˆã€‚

**Qï¼šå¦‚ä½•å¯¼å‡ºæ‰€æœ‰åˆ†æ”¯ï¼Ÿ**  
Aï¼šæ‰‹åŠ¨ç‚¹å‡»åˆ†æ”¯åˆ‡æ¢æŒ‰é’®ï¼ˆå¦‚ `2/2`ï¼‰ï¼Œæ¯æ¬¡åˆ‡æ¢åè¿è¡Œä¸€æ¬¡è„šæœ¬ï¼Œå¾—åˆ°å¤šä¸ª ZIP æ–‡ä»¶ã€‚åç»­å¯æ‰‹åŠ¨åˆå¹¶æˆ–ä½¿ç”¨ AI æ•´ç†ã€‚

### ğŸ“ è„šæœ¬ä»£ç 

```javascript
(function() {
  console.log('ğŸ” å¼€å§‹å¯¼å‡ºå¯¹è¯ï¼ˆåˆ†æ”¯åŸºäºç”¨æˆ·æ¶ˆæ¯ï¼‰...');

  // ========== é…ç½® ==========
  const TITLE_SELECTOR = 'div.afa34042.e37a04e4.e0a1edb7';
  const BRANCH_SELECTOR = '.dd7e4fda';
  const BRANCH_CONTAINER = '._17e14c5'; // åˆ†æ”¯æ§ä»¶æ‰€åœ¨å®¹å™¨
  const INDEX_FIXED_PREFIX = 'ã€æ ‡é¢˜ã€‘';
  // ==========================

  function loadJSZip(callback) {
    if (window.JSZip) { callback(); return; }
    const script = document.createElement('script');
    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js';
    script.onload = callback;
    script.onerror = () => alert('æ— æ³•åŠ è½½JSZipåº“');
    document.head.appendChild(script);
  }

  function getConversationTitle() {
    const el = document.querySelector(TITLE_SELECTOR);
    return el ? el.textContent.trim() : 'å¯¹è¯å¯¼å‡º';
  }

  // ---------- æ£€æŸ¥ç”¨æˆ·æ¶ˆæ¯æ˜¯å¦æœ‰åˆ†æ”¯ï¼ˆåŸºäºç”¨æˆ·æ¶ˆæ¯å…ƒç´ ï¼‰----------
  function userMessageHasBranch(userElement) {
    const wrapper = userElement.closest('._9663006');
    if (!wrapper) return false;
    const branchContainer = wrapper.querySelector(BRANCH_CONTAINER);
    if (branchContainer) {
      const indicator = branchContainer.querySelector(BRANCH_SELECTOR);
      if (indicator && /^\d+\s*\/\s*\d+$/.test(indicator.textContent.trim())) {
        console.log('âœ… ç”¨æˆ·æ¶ˆæ¯æœ‰åˆ†æ”¯:', indicator.textContent.trim());
        return true;
      }
    }
    console.log('âŒ ç”¨æˆ·æ¶ˆæ¯æ— åˆ†æ”¯');
    return false;
  }

  // æå–é™„ä»¶ï¼ˆä»…æ–‡ä»¶åï¼‰
  function extractAttachments(messageEl) {
    const attachments = [];
    messageEl.querySelectorAll('._789aea7').forEach(container => {
      const nameDiv = container.querySelector('.f3a54b52');
      if (nameDiv) {
        attachments.push(nameDiv.textContent.trim());
      }
    });
    return attachments;
  }

  // HTML è½¬ Markdown
  function htmlToMarkdown(html) {
    if (!html) return '';
    let text = html;
    text = text.replace(/<pre><code[^>]*>([\s\S]*?)<\/code><\/pre>/g, (m, c) => '\n```\n' + c.replace(/<[^>]*>/g, '') + '\n```\n');
    text = text.replace(/<code>([^<]+)<\/code>/g, '`$1`');
    text = text.replace(/<strong>([\s\S]*?)<\/strong>/g, '**$1**').replace(/<b>([\s\S]*?)<\/b>/g, '**$1**');
    text = text.replace(/<em>([\s\S]*?)<\/em>/g, '*$1*').replace(/<i>([\s\S]*?)<\/i>/g, '*$1*');
    for (let i = 1; i <= 6; i++) {
      const r = new RegExp(`<h${i}[^>]*>([\\s\\S]*?)<\\/h${i}>`, 'g');
      text = text.replace(r, (m, c) => '\n' + '#'.repeat(i) + ' ' + c.replace(/<[^>]*>/g, '') + '\n');
    }
    text = text.replace(/<a[^>]*href="([^"]*)"[^>]*>([\s\S]*?)<\/a>/g, '[$2]($1)');
    text = text.replace(/<img[^>]*src="([^"]*)"[^>]*alt="([^"]*)"[^>]*>/g, '![$2]($1)');
    text = text.replace(/<img[^>]*src="([^"]*)"[^>]*>/g, '![å›¾ç‰‡]($1)');
    text = text.replace(/<ul[^>]*>([\s\S]*?)<\/ul>/g, (m, l) => {
      const items = (l.match(/<li[^>]*>([\s\S]*?)<\/li>/g) || []).map(i => '- ' + htmlToMarkdown(i.replace(/<li[^>]*>|<\/li>/g, '')));
      return '\n' + items.join('\n') + '\n';
    });
    text = text.replace(/<ol[^>]*>([\s\S]*?)<\/ol>/g, (m, l) => {
      const items = (l.match(/<li[^>]*>([\s\S]*?)<\/li>/g) || []).map((i, idx) => (idx+1) + '. ' + htmlToMarkdown(i.replace(/<li[^>]*>|<\/li>/g, '')));
      return '\n' + items.join('\n') + '\n';
    });
    text = text.replace(/<p[^>]*>([\s\S]*?)<\/p>/g, '\n\n$1\n\n');
    text = text.replace(/<br\s*\/?>/g, '\n');
    text = text.replace(/<[^>]*>/g, '');
    text = text.replace(/\n{3,}/g, '\n\n');
    return text.trim();
  }

  function extractMarkdown(container) {
    if (!container) return '';
    const clone = container.cloneNode(true);
    clone.querySelectorAll('.ds-icon-button, .db183363, .d4910adc, .e7367035, .ds-focus-ring').forEach(el => el.remove());
    return htmlToMarkdown(clone.innerHTML);
  }

  function extractPlainText(container) {
    if (!container) return '';
    const clone = container.cloneNode(true);
    clone.querySelectorAll('.ds-icon-button, .db183363, .d4910adc, .e7367035, .ds-focus-ring').forEach(el => el.remove());
    return clone.textContent.trim().replace(/\s+/g, ' ');
  }

  function processMessages() {
    const messageElements = Array.from(document.querySelectorAll('.ds-message'));
    if (!messageElements.length) { alert('æœªæ‰¾åˆ°æ¶ˆæ¯'); return []; }
    const messages = [];

    messageElements.forEach(el => {
      let role = el.classList.contains('d29f3d7d') ? 'user' : 'assistant';
      if (!role && el.textContent.trim().startsWith('å·²æ€è€ƒ')) role = 'assistant';

      let content = '';
      let think = '';
      const attachments = extractAttachments(el);

      if (role === 'user') {
        const userDiv = el.querySelector('.fbb737a4');
        content = userDiv ? extractPlainText(userDiv) : extractPlainText(el);
      } else {
        const thinkDiv = el.querySelector('.ds-think-content');
        if (thinkDiv) {
          think = extractMarkdown(thinkDiv);
        } else {
          const fullText = el.textContent.trim();
          if (fullText.startsWith('å·²æ€è€ƒ')) {
            const match = fullText.match(/^(å·²æ€è€ƒï¼ˆç”¨æ—¶ [^ï¼‰]+ç§’ï¼‰)([\s\S]*)/);
            if (match) think = match[1].trim();
          }
        }
        let answerDiv = null;
        const allMarkdowns = el.querySelectorAll('.ds-markdown');
        for (let md of allMarkdowns) {
          if (!md.closest('.ds-think-content')) {
            answerDiv = md;
            break;
          }
        }
        if (answerDiv) {
          content = extractMarkdown(answerDiv);
        } else {
          let fullText = el.textContent.trim();
          if (fullText.startsWith('å·²æ€è€ƒ')) {
            const match = fullText.match(/^(å·²æ€è€ƒï¼ˆç”¨æ—¶ [^ï¼‰]+ç§’ï¼‰)([\s\S]*)/);
            content = match ? match[2].trim() : fullText;
          } else {
            content = fullText;
          }
        }
      }

      messages.push({ role, content, think, attachments, element: el });
    });

    return messages;
  }

  function groupByUserMessages(messages) {
    const groups = [];
    let currentGroup = null;

    messages.forEach(msg => {
      if (msg.role === 'user') {
        if (currentGroup && currentGroup.userContent) groups.push(currentGroup);
        currentGroup = {
          userContent: msg.content,
          userAttachments: msg.attachments,
          userElement: msg.element,
          aiContent: '',
          aiThink: '',
          aiAttachments: [],
          hasBranch: userMessageHasBranch(msg.element)
        };
      } else {
        if (currentGroup) {
          if (msg.think) currentGroup.aiThink += (currentGroup.aiThink ? '\n\n' : '') + msg.think;
          if (msg.content) currentGroup.aiContent += (currentGroup.aiContent ? '\n\n' : '') + msg.content;
          if (msg.attachments.length) currentGroup.aiAttachments.push(...msg.attachments);
        }
      }
    });
    if (currentGroup && currentGroup.userContent) groups.push(currentGroup);
    return groups;
  }

  function generateFilename(userContent, existingNames, index) {
    if (!userContent || userContent.trim() === '') {
      let filename = `ã€æ— æ–‡å­—ã€‘${String(index).padStart(3, '0')}.md`;
      while (existingNames.has(filename)) {
        filename = `ã€æ— æ–‡å­—ã€‘${String(++index).padStart(3, '0')}.md`;
      }
      existingNames.add(filename);
      return filename;
    } else {
      let safe = userContent.slice(0, 50).replace(/[\\/*?:"<>|]/g, '').replace(/\s+/g, '_');
      if (!safe) safe = 'æ¶ˆæ¯';
      let filename = safe + '.md';
      let counter = 1;
      while (existingNames.has(filename)) {
        filename = `${safe}_${counter}.md`;
        counter++;
      }
      existingNames.add(filename);
      return filename;
    }
  }

  function generateGroupContent(group) {
    let content = '';
    if (group.aiThink) content += `## ğŸ’­ æ€è€ƒ\n\n${group.aiThink}\n\n`;
    if (group.aiContent) content += `## ğŸ¤– å›ç­”\n\n${group.aiContent}\n\n`;
    if (group.aiAttachments.length) {
      content += `## ğŸ“ AIé™„ä»¶\n${group.aiAttachments.map(a => `- ${a}`).join('\n')}\n`;
    }
    return content;
  }

  function generateIndex(groups, conversationTitle) {
    let index = `å¯¼å‡ºæ—¶é—´ï¼š${new Date().toLocaleString()}\n`;
    index += `æ€»è½®æ¬¡ï¼š${groups.length}\n\n`;

    groups.forEach((group, i) => {
      const seq = i + 1;
      let preview = group.userContent || '(æ— æ–‡å­—)';
      preview = preview.replace(/\n/g, ' ').replace(/\s+/g, ' ').trim();
      preview = preview.replace(/&/g, '&').replace(/</g, '<').replace(/>/g, '>');

      // ä½¿ç”¨ â— æ ‡è®°æœ‰åˆ†æ”¯çš„å¯¹è¯
      const branchMark = group.hasBranch ? ' â—' : '';

      index += `${seq}.${branchMark} ${preview}\n`;

      if (group.userAttachments.length) {
        const uniqueAttachments = [...new Set(group.userAttachments)];
        index += `    é™„ä»¶ï¼š\n`;
        uniqueAttachments.forEach(fileName => {
          index += `        - ${fileName}\n`;
        });
      }
    });
    return index;
  }

  loadJSZip(() => {
    const conversationTitle = getConversationTitle();
    console.log(`ğŸ“Œ å¯¹è¯æ ‡é¢˜: ${conversationTitle}`);

    const messages = processMessages();
    if (!messages.length) return;

    const groups = groupByUserMessages(messages);
    console.log(`ğŸ“¦ å…± ${groups.length} ç»„`);

    const zip = new JSZip();
    const usedFilenames = new Set();

    groups.forEach((group, idx) => {
      const filename = generateFilename(group.userContent, usedFilenames, idx + 1);
      group.filename = filename;
      zip.file(filename, generateGroupContent(group));
    });

    const safeTitle = conversationTitle.replace(/[\\/*?:"<>|]/g, '').replace(/\s+/g, '_');
    const indexFilename = `${INDEX_FIXED_PREFIX}${safeTitle}.md`;
    const indexContent = generateIndex(groups, conversationTitle);
    zip.file(indexFilename, indexContent);

    zip.generateAsync({ type: 'blob' }).then(blob => {
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.download = `ã€å¯¹è¯ã€‘${safeTitle}.zip`;
      a.href = url;
      a.click();
      URL.revokeObjectURL(url);
      alert(`âœ… å¯¼å‡ºæˆåŠŸï¼å…± ${groups.length} ç»„ã€‚`);
    });
  });
})();
```